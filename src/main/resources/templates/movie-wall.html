<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title}">影视海报墙</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
</head>
<body class="bg-light min-vh-100 d-flex flex-column">
    <div class="container py-5 flex-grow-1 d-flex flex-column align-items-center justify-content-start">
        <form class="likcc-movie-search-form mb-4 d-flex justify-content-center w-100" onsubmit="return handleSearch(event);" style="max-width: 480px;">
            <input id="movie-search-input" type="text" name="keyword" class="form-control form-control-lg me-2 shadow-sm" placeholder="输入影视名称搜索" th:value="${param.keyword}" style="border-radius: 24px;" />
            <button class="btn btn-primary btn-lg px-4 shadow" type="submit" style="border-radius: 24px; min-width: 90px;">搜索</button>
        </form>
        <div class="likcc-movie-wall w-100 animate__animated animate__fadeIn">
            <div th:if="${#lists.isEmpty(movies)}" class="likcc-movie-empty text-center text-muted py-5">
                暂无海报记录，快去添加吧！
            </div>
            <div th:each="movie : ${movies}" class="likcc-movie-card animate__animated animate__zoomIn" th:data-name="${movie.metadata.name}">
                <img class="likcc-movie-poster" th:src="${movie.spec.vod_pic}" th:alt="${movie.spec.vod_name}">
                <div class="likcc-movie-title" th:text="${movie.spec.vod_name}"></div>
            </div>
        </div>
    </div>
    <script>
        document.querySelectorAll('.likcc-movie-card').forEach(card => {
            card.addEventListener('click', function() {
                const name = this.dataset.name;
                window.location.href = `/movies/${name}`;
            });
        });

        function handleSearch(e) {
            e.preventDefault();
            const keyword = document.getElementById('movie-search-input').value.trim();
            if (keyword) {
                window.location.href = `/movies?keyword=${encodeURIComponent(keyword)}`;
            } else {
                window.location.href = '/movies';
            }
            return false;
        }
    </script>
</body>
</html> 